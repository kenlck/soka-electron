"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[757],{3423:function(e,n,t){t.d(n,{qA:function(){return s}});var r=t(7294),a=t(5852),o=t(9477);class u extends o.DataTextureLoader{constructor(e){super(e),this.type=o.HalfFloatType}parse(e){const n=function(e,n){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(n||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(n||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(n||""));break;default:console.error("THREE.RGBELoader: Error: "+(n||""))}return-1},t=function(e,n,t){n=n||1024;let r=e.pos,a=-1,o=0,u="",i=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(a=i.indexOf("\n"))&&o<n&&r<e.byteLength;)u+=i,o+=i.length,r+=128,i+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<a&&(!1!==t&&(e.pos+=o+a+1),u+i.slice(0,a))},r=function(e,n,t,r){const a=e[n+3],o=Math.pow(2,a-128)/255;t[r+0]=e[n+0]*o,t[r+1]=e[n+1]*o,t[r+2]=e[n+2]*o,t[r+3]=1},a=function(e,n,t,r){const a=e[n+3],u=Math.pow(2,a-128)/255;t[r+0]=o.DataUtils.toHalfFloat(Math.min(e[n+0]*u,65504)),t[r+1]=o.DataUtils.toHalfFloat(Math.min(e[n+1]*u,65504)),t[r+2]=o.DataUtils.toHalfFloat(Math.min(e[n+2]*u,65504)),t[r+3]=o.DataUtils.toHalfFloat(1)},u=new Uint8Array(e);u.pos=0;const i=function(e){const r=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,u=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,i={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let c,s;if(e.pos>=e.byteLength||!(c=t(e)))return n(1,"no header found");if(!(s=c.match(/^#\?(\S+)/)))return n(3,"bad initial token");for(i.valid|=1,i.programtype=s[1],i.string+=c+"\n";c=t(e),!1!==c;)if(i.string+=c+"\n","#"!==c.charAt(0)){if((s=c.match(r))&&(i.gamma=parseFloat(s[1],10)),(s=c.match(a))&&(i.exposure=parseFloat(s[1],10)),(s=c.match(o))&&(i.valid|=2,i.format=s[1]),(s=c.match(u))&&(i.valid|=4,i.height=parseInt(s[1],10),i.width=parseInt(s[2],10)),2&i.valid&&4&i.valid)break}else i.comments+=c+"\n";return 2&i.valid?4&i.valid?i:n(3,"missing image size specifier"):n(3,"missing format specifier")}(u);if(-1!==i){const e=i.width,t=i.height,c=function(e,t,r){const a=t;if(a<8||a>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(a!==(e[2]<<8|e[3]))return n(3,"wrong scanline width");const o=new Uint8Array(4*t*r);if(!o.length)return n(4,"unable to allocate buffer space");let u=0,i=0;const c=4*a,s=new Uint8Array(4),l=new Uint8Array(c);let f=r;for(;f>0&&i<e.byteLength;){if(i+4>e.byteLength)return n(1);if(s[0]=e[i++],s[1]=e[i++],s[2]=e[i++],s[3]=e[i++],2!=s[0]||2!=s[1]||(s[2]<<8|s[3])!=a)return n(3,"bad rgbe scanline format");let t,r=0;for(;r<c&&i<e.byteLength;){t=e[i++];const a=t>128;if(a&&(t-=128),0===t||r+t>c)return n(3,"bad scanline data");if(a){const n=e[i++];for(let e=0;e<t;e++)l[r++]=n}else l.set(e.subarray(i,i+t),r),r+=t,i+=t}const d=a;for(let e=0;e<d;e++){let n=0;o[u]=l[e+n],n+=a,o[u+1]=l[e+n],n+=a,o[u+2]=l[e+n],n+=a,o[u+3]=l[e+n],u+=4}f--}return o}(u.subarray(u.pos),e,t);if(-1!==c){let n,u,s,l;switch(this.type){case o.FloatType:l=c.length/4;const e=new Float32Array(4*l);for(let n=0;n<l;n++)r(c,4*n,e,4*n);n=e,s=o.FloatType;break;case o.HalfFloatType:l=c.length/4;const t=new Uint16Array(4*l);for(let n=0;n<l;n++)a(c,4*n,t,3*n);n=t,s=o.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:e,height:t,data:n,header:i.string,gamma:i.gamma,exposure:i.exposure,format:u,type:s}}}return null}setDataType(e){return this.type=e,this}load(e,n,t,r){return super.load(e,(function(e,t){switch(e.type){case o.FloatType:case o.HalfFloatType:e.encoding=o.LinearEncoding,e.minFilter=o.LinearFilter,e.magFilter=o.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}n&&n(e,t)}),t,r)}}const i={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},c=e=>{return(n=e).current&&n.current.isScene?e.current:e;var n};function s(e){return e.map?r.createElement(l,e):e.children?r.createElement(f,e):r.createElement(d,e)}function l({scene:e,background:n=!1,map:t}){const o=(0,a.Ky)((e=>e.scene));return r.useLayoutEffect((()=>{if(t){const r=c(e||o),a=r.background,u=r.environment;return"only"!==n&&(r.environment=t),n&&(r.background=t),()=>{"only"!==n&&(r.environment=u),n&&(r.background=a)}}}),[e,t]),null}function f({children:e,near:n=1,far:t=1e3,resolution:u=256,frames:i=1,background:s=!1,scene:f,files:d,path:p,preset:m,extensions:h}){const g=(0,a.Ky)((e=>e.gl)),y=(0,a.Ky)((e=>e.scene)),v=r.useRef(null),[b]=r.useState((()=>new o.Scene)),w=r.useMemo((()=>{const e=new o.WebGLCubeRenderTarget(u);return e.texture.type=o.HalfFloatType,e}),[u]);r.useLayoutEffect((()=>{1===i&&v.current.update(g,b);const e=c(f||y),n=e.background,t=e.environment;return"only"!==s&&(e.environment=w.texture),s&&(e.background=w.texture),()=>{"only"!==s&&(e.environment=t),s&&(e.background=n)}}),[e,f]);let E=1;return(0,a.xQ)((()=>{(i===1/0||E<i)&&(v.current.update(g,b),E++)})),r.createElement(r.Fragment,null,(0,a.jz)(r.createElement(r.Fragment,null,e,r.createElement("cubeCamera",{ref:v,args:[n,t,w]}),(d||m)&&r.createElement(l,{background:!0,files:d,preset:m,path:p,extensions:h,scene:b})),b))}function d({background:e=!1,files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:t="",preset:s,scene:l,extensions:f}){if(s){if(!(s in i))throw new Error("Preset must be one of: "+Object.keys(i).join(", "));n=i[s],t="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/"}const d=(0,a.Ky)((e=>e.scene)),p=Array.isArray(n),m=p?o.CubeTextureLoader:u,h=(0,a.U2)(m,p?[n]:n,(e=>{e.setPath(t),null==e.setDataType||e.setDataType(o.FloatType),f&&f(e)})),g=p?h[0]:h;return g.mapping=o.EquirectangularReflectionMapping,r.useLayoutEffect((()=>{const n=c(l||d),t=n.background,r=n.environment;return"only"!==e&&(n.environment=g),e&&(n.background=g),()=>{"only"!==e&&(n.environment=r),e&&(n.background=t),g.dispose()}}),[g,e,l]),null}},244:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(7294);function a(e,n,t,r){var a,o=!1,u=0;function i(){a&&clearTimeout(a)}function c(){for(var c=arguments.length,s=new Array(c),l=0;l<c;l++)s[l]=arguments[l];var f=this,d=Date.now()-u;function p(){u=Date.now(),t.apply(f,s)}function m(){a=void 0}o||(r&&!a&&p(),i(),void 0===r&&d>e?p():!0!==n&&(a=setTimeout(r?m:p,void 0===r?e-d:e)))}return"boolean"!==typeof n&&(r=t,t=n,n=void 0),c.cancel=function(){i(),o=!0},c}function o(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e&&e.addEventListener&&e.addEventListener.apply(e,n)}function u(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e&&e.removeEventListener&&e.removeEventListener.apply(e,n)}var i=["mousemove","mousedown","resize","keydown","touchstart","wheel"],c=function(e,n,t){void 0===e&&(e=6e4),void 0===n&&(n=!1),void 0===t&&(t=i);var c=(0,r.useState)(n),s=c[0],l=c[1];return(0,r.useEffect)((function(){for(var n,r=!0,i=s,c=function(e){r&&(i=e,l(e))},f=a(50,(function(){i&&c(!1),clearTimeout(n),n=setTimeout((function(){return c(!0)}),e)})),d=function(){document.hidden||f()},p=0;p<t.length;p++)o(window,t[p],f);return o(document,"visibilitychange",d),n=setTimeout((function(){return c(!0)}),e),function(){r=!1;for(var e=0;e<t.length;e++)u(window,t[e],f);u(document,"visibilitychange",d)}}),[e,t]),s}},3337:function(e,n,t){var r=t(7294);n.Z=function(e,n){var t=(0,r.useRef)((function(){}));(0,r.useEffect)((function(){t.current=e})),(0,r.useEffect)((function(){if(null!==n){var e=setInterval((function(){return t.current()}),n||0);return function(){return clearInterval(e)}}}),[n])}},7176:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(7294);function a(e){var n=(0,r.useRef)();return(0,r.useEffect)((function(){n.current=e})),n.current}},9302:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(7294);function a(e,n,t){var a=this,o=(0,r.useRef)(null),u=(0,r.useRef)(0),i=(0,r.useRef)(null),c=(0,r.useRef)([]),s=(0,r.useRef)(),l=(0,r.useRef)(),f=(0,r.useRef)(e),d=(0,r.useRef)(!0);f.current=e;var p=!n&&0!==n&&"undefined"!==typeof window;if("function"!==typeof e)throw new TypeError("Expected a function");n=+n||0;var m=!!(t=t||{}).leading,h=!("trailing"in t)||!!t.trailing,g="maxWait"in t,y=g?Math.max(+t.maxWait||0,n):null;(0,r.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var v=(0,r.useMemo)((function(){var e=function(e){var n=c.current,t=s.current;return c.current=s.current=null,u.current=e,l.current=f.current.apply(t,n)},t=function(e,n){p&&cancelAnimationFrame(i.current),i.current=p?requestAnimationFrame(e):setTimeout(e,n)},r=function(e){if(!d.current)return!1;var t=e-o.current,r=e-u.current;return!o.current||t>=n||t<0||g&&r>=y},v=function(n){return i.current=null,h&&c.current?e(n):(c.current=s.current=null,l.current)},b=function(){var e=Date.now();if(r(e))return v(e);if(d.current){var a=e-o.current,i=e-u.current,c=n-a,s=g?Math.min(c,y-i):c;t(b,s)}},w=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var h=Date.now(),y=r(h);if(c.current=f,s.current=a,o.current=h,y){if(!i.current&&d.current)return u.current=o.current,t(b,n),m?e(o.current):l.current;if(g)return t(b,n),e(o.current)}return i.current||t(b,n),l.current};return w.cancel=function(){i.current&&(p?cancelAnimationFrame(i.current):clearTimeout(i.current)),u.current=0,c.current=o.current=s.current=i.current=null},w.isPending=function(){return!!i.current},w.flush=function(){return i.current?v(Date.now()):l.current},w}),[m,g,n,y,h,p]);return v}},9542:function(e,n,t){t.d(n,{Id:function(){return o}});const r=[];for(let u=0;u<256;u++)r[u]=(u<16?"0":"")+u.toString(16);const a=Math.PI/180;Math.PI;function o(e){return e*a}}}]);